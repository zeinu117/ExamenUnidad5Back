function debounce(g,d,k){function l(){var e=Date.now()-m;e<d&&0<=e?a=setTimeout(l,d-e):(a=null,k||(f=g.apply(b,c),b=c=null))}var a,c,b,m,f;null==d&&(d=100);var h=function(){b=this;c=arguments;m=Date.now();var e=k&&!a;a||(a=setTimeout(l,d));e&&(f=g.apply(b,c),b=c=null);return f};h.clear=function(){a&&(clearTimeout(a),a=null)};h.flush=function(){a&&(f=g.apply(b,c),b=c=null,clearTimeout(a),a=null)};return h};